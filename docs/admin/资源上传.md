# local上传

#### 简要描述：

- COS上传
- 支持多文件上传

#### 请求URL:

- /api/admin/upload/local

#### 请求方式：

- POST

#### 请求参数:

##### 示例：

#### 返回示例:

**正确时返回:**

```
{
    "message": "上传成功",
    "code": 200,
    "data": {
        "file": {
            "id": 2, // id
            "title": "18505720_094503373000_2.jpg", // 文件名
            "file_type": "image/jpeg", // 文件类型
            "file_size": 461892, // 文件大小
            "file_url": "https://chicjoc-1256710628.cos.ap-chengdu.myqcloud.com/20191129/35de25e233ddb33de8cf1850d2708eba.jpg", // 访问路径
            "file_path": "20191129/35de25e233ddb33de8cf1850d2708eba.jpg" // 存储路径
        },
        "file1": {
            "title": "9252150_092049419327_2.jpg",
            "file_type": "image/jpeg",
            "file_size": 242907,
            "file_url": "https://chicjoc-1256710628.cos.ap-chengdu.myqcloud.com/20191129/737173ed7b01c15df8b98bd42fa8dd53.jpg",
            "file_path": "20191129/737173ed7b01c15df8b98bd42fa8dd53.jpg",
            "id": "3"
        }
    },
    "uuid": "log_e3866d82-143b-e80d-e145-062749567cbc"
}
```

# 腾讯云上传

#### 简要描述：

- COS上传
- 支持多文件上传

#### 请求URL:

- /api/admin/upload/q-cloud

#### 请求方式：

- POST

#### 请求参数:

##### 示例：

#### 返回示例:

**正确时返回:**

```
{
    "message": "上传成功",
    "code": 200,
    "data": {
        "file": {
            "id": 2, // id
            "title": "18505720_094503373000_2.jpg", // 文件名
            "file_type": "image/jpeg", // 文件类型
            "file_size": 461892, // 文件大小
            "file_url": "https://chicjoc-1256710628.cos.ap-chengdu.myqcloud.com/20191129/35de25e233ddb33de8cf1850d2708eba.jpg", // 访问路径
            "file_path": "20191129/35de25e233ddb33de8cf1850d2708eba.jpg" // 存储路径
        },
        "file1": {
            "title": "9252150_092049419327_2.jpg",
            "file_type": "image/jpeg",
            "file_size": 242907,
            "file_url": "https://chicjoc-1256710628.cos.ap-chengdu.myqcloud.com/20191129/737173ed7b01c15df8b98bd42fa8dd53.jpg",
            "file_path": "20191129/737173ed7b01c15df8b98bd42fa8dd53.jpg",
            "id": "3"
        }
    },
    "uuid": "log_e3866d82-143b-e80d-e145-062749567cbc"
}
```

# 腾讯云临时密钥

#### 简要描述：

- 获取cos临时密钥


#### 请求接口:

- /api/admin/upload/q-cloud-temp-keys

#### 请求方式：

- GET

#### 返回示例:

**正确时返回:**

```
{
    "message": "成功",
    "code": 200,
    "data": {
        "expiredTime": 1575528567,
        "expiration": "2019-12-05T06:49:27Z",
        "credentials": {
            "sessionToken": "UzMRn0y5J5cL2Mf6r3qYLqfl4W6LfS2xead5c28337829f756e6fbc0a65b7cf4fXTKVRneG3OfCscRqgkObLRA4ckr-ZgCZy7ZRzUPhL_l92J8wS4pKBnxh3mSmXXU1ad6RyJVvJAj9lDdolDlOjtEkm4XBvW7lI3a3hPdBoJMiw9pV8Ro5NQzNwMhncWgzYW3m0mdXKNEt48B2owwabpI-WnqOohSo0PXiJIp7CBQZ_jWkvkHbNGxY1L2q2z1ZvRfREekBV8mMk8-HHIBiCVhI5SOTovJahGWkRH06MyzJ8qIKUHnVSN6okN1oGHui1gEVVKkBwEosqR0c0agBihZNhcnJ7x1QEcJaelQSfjfMvhlQr9PK_Qwiu-yflA4qTUWt-ADt7HZuyd6eNKmwo1Fepd3L9pA8rm1cAPKolUez4RbCW2UxVdXCk0YKc3AzfRMnkZgNGjAsANAu4fqBybe2XOsdoM2z17pte-0oVwrWE5O70C9AkT6j44c8nu7BLcjAwv-0eA8VNKMYXQf3XhKNFUUO8QbK0Dqr9O7n21M",
            "tmpSecretId": "AKIDc7HLPv7Ze1DnNuaKft_qtoEgRAusfqLgDylt1Jmbpf_dC8xz5EX87wYGYIE1nbt1",
            "tmpSecretKey": "WTtR55Xc4C0fDXxp7+j/MyFZFStK1Ep3ansyIIeAP6M="
        },
        "requestId": "7176cd0e-8775-4228-aac7-e682c60bc3f0",
        "startTime": 1575526767
    },
    "uuid": "log_98694aa7-ff5a-e425-e9a4-508c13c20dd7"
}
```

# info上传

#### 简要描述：

- INFO上传
- 这个接口用于上传到云端之后，保存文件信息到本系统

#### 请求URL:

- /api/admin/upload/info

#### 请求方式：

- POST

#### 请求参数:
| 字段  |是否必须|说明   |默认值   | 示例  |
| ------------ | ------------| ------------ | ------------ | ------------ |
| title  |是| 文件名称  |   |  0d46b1d9153466ebe840b3dd72b7e0db.jpeg |
| file_path  |是| 文件路径  |   | 20191204/0d46b1d9153466ebe840b3dd72b7e0db.jpeg  |
| save_way  | 是 |保存方式 qcloud腾讯云 |   |  qcloud |
| file_size  | 否| 文件尺寸 |   |50013   |
| file_type  |  否|文件类型 |   |  image/jpeg |
| md5  |否  |文件md5，如果有这个值，那么会检查是否有一样的文件，如果有，则直接返回之前的信息|   | 3e2ea250edb928c2462e4098b2ca02f2  |
| sha1  |否 | 文件sha1 |   | 0b0501b3be10926d471c48015d5667181896663c  |
| category_id  |是 | 文件分类，数组格式 |   | [1,2]  |


#### 返回示例:

**正确时返回:**

```
{
    "message": "成功",
    "code": 200,
    "data": {
        "title": "图片1",
        "file_type": "image/jpeg",
        "file_size": "50013",
        "file_path": "20191204/0d46b1d9153466ebe840b3dd72b7e0db.jpeg",
        "save_way": "qcloud",
        "file_url": "https://chicjoc-1256710628.cos.ap-chengdu.myqcloud.com/20191204/0d46b1d9153466ebe840b3dd72b7e0db.jpeg",
        "id": "6"
    },
    "uuid": "log_88000d25-11e8-6d6d-b6cd-1260aad321b7"
}
```